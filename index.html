<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ø°Ø§ØªÙŠ Ù„Ø£Ù…Ø§Ù†Ø© Ù…Ù†Ø·Ù‚Ø© Ø­Ø§Ø¦Ù„</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <img src="assets/logo.jpg" alt="Ø´Ø¹Ø§Ø± Ø£Ù…Ø§Ù†Ø© Ù…Ù†Ø·Ù‚Ø© Ø­Ø§Ø¦Ù„" class="logo" />
    <h1>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ø°Ø§ØªÙŠ Ù„Ø£Ù…Ø§Ù†Ø© Ù…Ù†Ø·Ù‚Ø© Ø­Ø§Ø¦Ù„</h1>
  </header>

  <main class="container">
    <section class="card" style="max-width:520px;margin-inline:auto">
      <div class="actions-row" style="justify-content:center">
        <button type="button" id="tab-login" class="btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        <button type="button" id="tab-register" class="btn">Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯</button>
      </div>

      <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
      <form id="loginForm" style="margin-top:10px">
        <div class="form-row">
          <label for="loginId">Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©</label>
          <input id="loginId" type="text" required />
        </div>
        <div class="form-row">
          <label for="loginPass">Ø§Ù„Ø±Ù…Ø²</label>
          <input id="loginPass" type="password" required />
        </div>
        <button type="submit">Ø¯Ø®ÙˆÙ„</button>

        <!-- Ù†Ø³ÙŠØ§Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
        <div class="forgot-wrap" style="text-align:center;margin-top:10px">
          <a href="#" id="forgotLink">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</a>
        </div>
        <div id="forgotBox" style="display:none;margin-top:10px;background:#ffffffcc;padding:10px;border-radius:8px">
          <label for="forgotInput">Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
          <input id="forgotInput" type="text" placeholder="Ù…Ø«Ø§Ù„: 1xxxxxxxxx Ø£Ùˆ name@email.com">
          <button type="button" style="margin-top:8px" onclick="handleForgot()">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø·/Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©</button>
        </div>
      </form>

      <!-- ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ -->
      <form id="registerForm" style="display:none;margin-top:10px">
        <div class="form-row"><label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ</label><input id="fullName" type="text" required /></div>
        <div class="form-row"><label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label><input id="birthDate" type="date" required /></div>
        <div class="form-row"><label>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©</label><input id="idNumber" type="text" maxlength="10" required /></div>
        <div class="form-row"><label>Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„</label><input id="phone" type="tel" required /></div>
        <div class="form-row"><label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label><input id="email" type="email" required /></div>
        <div class="form-row"><label>Ø§Ù„Ø±Ù…Ø²</label><input id="password" type="password" required /></div>
        <div class="form-row"><label>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²</label><input id="confirmPassword" type="password" required /></div>
        <div class="form-row"><label>ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label><input id="profilePic" type="file" accept="image/*" /></div>
        <button type="submit">ØªØ³Ø¬ÙŠÙ„</button>
      </form>

      <div class="actions-row" style="justify-content:center;margin-top:12px">
        <button type="button" onclick="toggleDarkMode()">ğŸŒ“ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹</button>
      </div>
    </section>
  </main>

  <script>
    // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† ØªØ¨ÙˆÙŠØ¨Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
    document.getElementById("tab-login").addEventListener("click", function() {
      document.getElementById("loginForm").style.display = "block";
      document.getElementById("registerForm").style.display = "none";
    });

    document.getElementById("tab-register").addEventListener("click", function() {
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("registerForm").style.display = "block";
    });

    // Ù†Ø³ÙŠØ§Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
    document.getElementById("forgotLink").addEventListener("click", function(e) {
      e.preventDefault();
      const box = document.getElementById("forgotBox");
      box.style.display = (box.style.display === "none") ? "block" : "none";
    });

    function handleForgot(){
      const input = document.getElementById("forgotInput").value.trim();
      if (!input) { alert("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"); return; }
      alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (ØªØ¬Ø±ÙŠØ¨ÙŠ)");
    }

    // ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
    document.getElementById("loginForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const id = document.getElementById("loginId").value.trim();
      const pass = document.getElementById("loginPass").value.trim();
      const user = JSON.parse(localStorage.getItem("user"));

      if (user && user.idNumber === id && user.password === pass) {
        localStorage.setItem("loggedIn", "true");
        window.location.href = "main.html";  // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„ØµØ­ÙŠØ­
      } else {
        alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
      }
    });

    // ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
    document.getElementById("registerForm").addEventListener("submit", function(e) {
        e.preventDefault();

        const fullName = document.getElementById("fullName").value.trim();
        const birthDate = document.getElementById("birthDate").value.trim();
        const idNumber = document.getElementById("idNumber").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();
        const confirmPassword = document.getElementById("confirmPassword").value.trim();

        if (password !== confirmPassword) {
          alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙˆØªØ£ÙƒÙŠØ¯Ù‡Ø§ ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ÙŠÙ†");
          return;
        }

        const user = { fullName, birthDate, idNumber, phone, email, password };

        localStorage.setItem("user", JSON.stringify(user));
        alert("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");

        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
        document.getElementById("loginForm").style.display = "none";
        document.getElementById("registerForm").style.display = "none";

        // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­
        document.getElementById("tab-login").click();
    });

    // Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("theme", document.body.classList.contains("dark-mode") ? "dark" : "light");
    }
  </script>
</body>
</html>